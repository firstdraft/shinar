
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="<%= chats_path %>">Chats</a></li>
    <li class="breadcrumb-item active" aria-current="page"><%= @chat.subject %></li>
  </ol>
</nav>

<div class="d-flex gap-2 mb-4">
  <%= link_to "Edit this chat", edit_chat_path(@chat), class: "btn btn-sm btn-outline-primary" %>
  <%= button_to "Destroy this chat", @chat, method: :delete, class: "btn btn-sm btn-outline-danger", form: { data: { turbo_confirm: "Are you sure?" } } %>
</div>

<div class="list-group">
  <% @chat.messages.order(created_at: :asc).group_by_day(&:created_at).each do |day, messages| %>
    <div class="list-group-item text-center bg-light">
      <% if day == Date.today %>
        Today
      <% elsif day == Date.yesterday %>
        Yesterday
      <% else %>
        <%= day.strftime("%A, %B %-d, %Y") %>
      <% end %>
    </div>
    <%= render messages %>
  <% end %>

  <%= render "new_message_form", chat: @chat %>
</div>
